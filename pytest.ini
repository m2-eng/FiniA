[pytest]
# Pytest Configuration for FiniA Test Suite
# Issue #32: Implementing a test bench

# Test Discovery
python_files = test_*.py
python_classes = Test*
python_functions = test_*
testpaths = tests

# Asyncio Configuration
asyncio_mode = auto

# Timeout (seconds)
timeout = 30
timeout_method = thread

# Output Options
addopts = 
    -v
    --strict-markers
    --tb=short
    --disable-warnings
    -ra
    --maxfail=5

# Markers for test categorization
markers =
    schema: Schema validation tests
    integrity: Data integrity tests
    api: API functional tests
    performance: Performance benchmarking tests
    slow: Slow running tests
    integration: Integration tests
    unit: Unit tests
    account_api: Account endpoint tests
    category_api: Category endpoint tests
    transaction_api: Transaction endpoint tests
    planning_api: Planning endpoint tests
    sharing_api: Sharing endpoint tests
    year_overview_api: Year overview endpoint tests
    import_api: Import endpoint tests
    error_handling: Error handling tests
    concurrent: Concurrent request tests

# Logging
log_cli = false
log_cli_level = INFO
log_file = tests/test_results.log
log_file_level = DEBUG

# Coverage (if pytest-cov installed)
# addopts = --cov=src --cov-report=html

# Parallel execution (if pytest-xdist installed)
# addopts = -n auto
